@*@inject IJSRuntime JS
    @implements IAsyncDisposable*@

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<Router AppAssembly="@typeof(Program).Assembly" PreferExactMatches="@true">
    <Found Context="routeData">
        <RouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)" />
    </Found>
    <NotFound>
        <LayoutView Layout="@typeof(MainLayout)">
            <p>Sorry, there's nothing at this address.</p>
        </LayoutView>
    </NotFound>
</Router>

@code {
    private IJSObjectReference module;
    private string result;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            //module = await JS.InvokeAsync<IJSObjectReference>("import",
            //    "./BusManager/BusMangerScripts.js");

            //await module.InvokeAsync<string>("addBusMangerStaticFiles");
            //await TriggerPrompt();
        }
    }

    //private async Task TriggerPrompt()
    //{
    //    result = await Prompt("Provide some text");
    //}

    //public async ValueTask<string> Prompt(string message)
    //{
    //    return await module.InvokeAsync<string>("showPrompt", message);
    //}

    //async ValueTask IAsyncDisposable.DisposeAsync()
    //{
    //    if (module is not null)
    //    {
    //        await module.DisposeAsync();
    //    }
    //}
}