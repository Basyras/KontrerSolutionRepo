@using Basyc.MessageBus.Manager.Application

@{
    string latencyClass = $"latency--state--{RequestResult.State.ToString()}";
}

<latency class="@latencyClass">
    @if (RequestResult.State == RequestResultState.Started)
    {
        <spinner>
            <MudProgressCircular Color="Color.Default" Indeterminate="true" Size="Size.Small" />
        </spinner>
    }
    else
    {
        @if (RequestResult.DurationMap is not null)
        {
            @Math.Ceiling(RequestResult.DurationMap.TotalDuration.TotalMilliseconds)
        }
        else
        {
            @:--
        }
        @:ms
    }
</latency>

@code {
    [Parameter]
    public RequestResult RequestResult { get; set; }
}
